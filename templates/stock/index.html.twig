{% extends 'base.html.twig' %}

{% block title %}Stock des articles{% endblock %}

{% block body %}
    <h1>Stock des articles</h1>

    <table class="table table-bordered table-hover">
        <thead>
            <tr>
                <th>Article</th>
                <th>Référence</th>
                <th>Quantité en stock</th>
                <th>Seuil d’alerte</th>
                <th>Dernière mise à jour</th>
            </tr>
        </thead>
        <tbody>
            {% for stock in stocks %}
                <tr {% if stock.seuilAlerte is not null and stock.quantite <= stock.seuilAlerte %} class="table-danger"{% endif %}>
                    <td>{{ stock.article.designation }}</td>
                    <td>{{ stock.article.reference }}</td>
                    <td>{{ stock.quantite }}</td>
                    <td>{{ stock.seuilAlerte ?? '-' }}</td>
                    <td>{{ stock.updatedAt ? stock.updatedAt|date('d/m/Y H:i') : '-' }}</td>
                    </tr>
            {% else %}
                <tr><td colspan="5">Aucun stock enregistré.</td></tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
